import{a as J,b as Q,c as W,d as X,e as Y,f as Z,g as tt,h as nt,i as rt,j as ot,k as at}from"./chunk-MMLOY4VJ.js";import{A as K,F as q,G as z,J as et,K as it,g as R,j as V,k as N,n as A,p as B,q as G,r as D,s as $,t as L,w as j,y as U,z as H}from"./chunk-NLZJVKTC.js";import"./chunk-UNOYXJSZ.js";import{n as O,o as F,z as T}from"./chunk-SCXYPIMF.js";import"./chunk-IX6G3U3V.js";import{Ca as u,Da as d,Eb as i,Fb as s,Fc as w,Gb as h,Gc as P,Hb as k,Ib as y,Ic as b,Jc as E,Kb as I,Nb as f,Pb as c,Xb as l,Yb as _,ac as v,db as m,dc as C,eb as g,ec as M,sa as S,wb as x,yb as p}from"./chunk-XWIE6NT6.js";import"./chunk-YEG3NED5.js";function st(o,n){if(o&1&&(i(0,"span",11),l(1),s()),o&2){let r=n.$implicit,t=c().ngIf;p("word",r)("unmasked",t.unmasked)("guesses",t.guesses),m(),_(r)}}function mt(o,n){if(o&1){let r=I();k(0),i(1,"form",1),f("ngSubmit",function(){let e=u(r).ngIf,a=c();return d(a.registerGuess(e.id))}),i(2,"mat-form-field",2)(3,"mat-label",3),l(4,"Guesses"),s(),i(5,"input",4),C(6,"async"),f("keypress",function(e){u(r);let a=c();return d(a.preventInput(" ")(e))}),s()()(),i(7,"mat-card",5)(8,"mat-card-header")(9,"mat-card-title"),l(10),s(),i(11,"mat-card-subtitle"),l(12),s()(),i(13,"mat-card-content",6),x(14,st,2,4,"span",7),s(),i(15,"mat-card-actions")(16,"button",8),f("click",function(){let e=u(r).ngIf,a=c();return d(a.reset(e.id))}),l(17," Reset "),s(),h(18,"span",9),i(19,"button",10),f("click",function(){let e=u(r).ngIf,a=c();return d(a.unmask(e.id))}),i(20,"mat-icon"),l(21,"visibility"),s()()()(),y()}if(o&2){let r,t=n.ngIf,e=c();m(),p("formGroup",e.guesser),m(4),p("readOnly",!!((r=M(6,5,e.article$))!=null&&r.unmasked)),m(5),_(t.title),m(2),_(t.description),m(2),p("ngForOf",t.splitContent)}}var bt=(()=>{let n=class n{constructor(t,e){this.formBuilder=t,this.articleStore=e,this.article$=this.articleStore.pipe(F(T)),this.guesser=this.formBuilder.group({main:""})}registerGuess(t){let{main:e}=this.guesser.value;e&&t&&(this.articleStore.dispatch(K({id:t,guess:e})),this.guesser.reset())}reset(t){t&&this.articleStore.dispatch(z({id:t}))}unmask(t){t&&this.articleStore.dispatch(q({id:t}))}preventInput(t){return e=>e.key===t?(e.stopPropagation(),!1):!0}};n.\u0275fac=function(e){return new(e||n)(g(D),g(O))},n.\u0275cmp=S({type:n,selectors:[["ng-component"]],standalone:!0,features:[v],decls:2,vars:3,consts:[[4,"ngIf"],["data-intro-id","guess-input",1,"input-container",3,"ngSubmit","formGroup"],["appearance","outline"],["translate","site.input.guess"],["formControlName","main","matInput","","type","text",3,"keypress","readOnly"],["data-intro-id","lesson-card",1,"lesson-card"],[1,"contents"],["mask","",3,"word","unmasked","guesses",4,"ngFor","ngForOf"],["mat-button","",3,"click"],[1,"spacer"],["mat-icon-button","","matTooltip","umask all words",3,"click"],["mask","",3,"word","unmasked","guesses"]],template:function(e,a){e&1&&(x(0,mt,22,7,"ng-container",0),C(1,"async")),e&2&&p("ngIf",M(1,1,a.article$))},dependencies:[E,w,P,b,$,A,R,V,N,B,G,H,U,j,L,tt,J,Y,W,Z,X,Q,it,et,at,rt,ot,nt],styles:["[_nghost-%COMP%]{padding:20px;margin:auto;display:block;max-width:800px}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{max-width:800px;margin:auto;display:flex}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 auto}"]});let o=n;return o})();export{bt as ReaderPage};
