import{a as Q,b as W,c as X,d as Y,e as Z,f as tt,g as et,h as rt,i as at,j as ot,k as st}from"./chunk-WCZ3RFRH.js";import{A as q,F as z,G as J,J as it,K as nt,g as B,j as R,k as N,n as A,p as D,q as G,r as $,s as L,t as j,w as U,y as H,z as K}from"./chunk-OT2ZMKSR.js";import"./chunk-MNVRBR3A.js";import{E as mt,n as T,o as F,z as V}from"./chunk-3LDLOYOC.js";import"./chunk-IX6G3U3V.js";import{Da as d,Ea as u,Fb as i,Gb as m,Gc as P,Hb as h,Hc as b,Ib as k,Jb as y,Jc as E,Kc as O,Lb as I,Ob as f,Qb as c,Yb as l,Zb as _,_b as v,bc as w,eb as s,ec as g,fb as C,fc as x,sa as S,xb as M,zb as p}from"./chunk-VFIERBNH.js";import"./chunk-YEG3NED5.js";function ct(a,n){if(a&1&&(i(0,"span",10),l(1),m()),a&2){let r=n.$implicit,t=c().ngIf;p("word",r)("unmasked",t.unmasked)("guesses",t.guesses),s(),_(r)}}function lt(a,n){if(a&1){let r=I();k(0),i(1,"form",1),f("ngSubmit",function(){let e=d(r).ngIf,o=c();return u(o.registerGuess(e.id))}),i(2,"mat-form-field",2)(3,"mat-label"),l(4),g(5,"translate"),m(),i(6,"input",3),g(7,"async"),f("keypress",function(e){d(r);let o=c();return u(o.preventInput(" ")(e))}),m()()(),i(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title"),l(11),m(),i(12,"mat-card-subtitle"),l(13),m()(),i(14,"mat-card-content",5),M(15,ct,2,4,"span",6),m(),i(16,"mat-card-actions")(17,"button",7),f("click",function(){let e=d(r).ngIf,o=c();return u(o.reset(e.id))}),l(18),g(19,"translate"),m(),h(20,"span",8),i(21,"button",9),f("click",function(){let e=d(r).ngIf,o=c();return u(o.unmask(e.id))}),i(22,"mat-icon"),l(23,"visibility"),m()()()(),y()}if(a&2){let r,t=n.ngIf,e=c();s(),p("formGroup",e.guesser),s(3),_(x(5,7,"site.input.guess")),s(2),p("readOnly",!!((r=x(7,9,e.article$))!=null&&r.unmasked)),s(5),_(t.title),s(2),_(t.description),s(2),p("ngForOf",t.splitContent),s(3),v(" ",x(19,11,"site.reader.reset")," ")}}var Tt=(()=>{let n=class n{constructor(t,e){this.formBuilder=t,this.articleStore=e,this.article$=this.articleStore.pipe(F(V)),this.guesser=this.formBuilder.group({main:""})}registerGuess(t){let{main:e}=this.guesser.value;e&&t&&(this.articleStore.dispatch(q({id:t,guess:e})),this.guesser.reset())}reset(t){t&&this.articleStore.dispatch(J({id:t}))}unmask(t){t&&this.articleStore.dispatch(z({id:t}))}preventInput(t){return e=>e.key===t?(e.stopPropagation(),!1):!0}};n.\u0275fac=function(e){return new(e||n)(C($),C(T))},n.\u0275cmp=S({type:n,selectors:[["ng-component"]],standalone:!0,features:[w],decls:2,vars:3,consts:[[4,"ngIf"],["data-intro-id","guess-input",1,"input-container",3,"ngSubmit","formGroup"],["appearance","outline"],["formControlName","main","matInput","","type","text",3,"keypress","readOnly"],["data-intro-id","lesson-card",1,"lesson-card"],[1,"contents"],["mask","",3,"word","unmasked","guesses",4,"ngFor","ngForOf"],["mat-button","",3,"click"],[1,"spacer"],["mat-icon-button","","matTooltip","umask all words",3,"click"],["mask","",3,"word","unmasked","guesses"]],template:function(e,o){e&1&&(M(0,lt,24,13,"ng-container",0),g(1,"async")),e&2&&p("ngIf",x(1,1,o.article$))},dependencies:[O,P,b,E,L,A,B,R,N,D,G,K,H,U,j,et,Q,Z,X,tt,Y,W,nt,it,st,at,ot,mt,rt],styles:["[_nghost-%COMP%]{padding:20px;margin:auto;display:block;max-width:800px}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{max-width:800px;margin:auto;display:flex}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 auto}"]});let a=n;return a})();export{Tt as ReaderPage};
